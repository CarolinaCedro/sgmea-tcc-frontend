<sgmea-list [listTitle]="'Chamados Atribuidos'" [viewOnly]="true" [itensCount]="values?.records?.length" class="w-full">


  <!--  <equipamento-filter [autoEmitValuesChange]="true" (valuesChanges)="customList($event)"/>-->


  @if (chamadosAtribuidos?.records && chamadosAtribuidos?.records.length > 0) {
    <ng-template let-chamadoAtribuido let-last="last" ngFor [ngForOf]="chamadosAtribuidos?.records">

      <sgmea-container-list [icon]="'fa-solid fa-clipboard-check'" [address]="chamadoAtribuido?.id">
        <div
          class=" text-sm sm:text-base md:text-base lg:text-base leading-5 break-words">{{ chamadoAtribuido?.chamadoCriado?.titulo }}
        </div>

        <div class="text-gray-500" mat-chip-situation>
          <small class="mat-chip-type-visita flex items-center"
                 [ngClass]="{
                                    'baixa': chamadoAtribuido?.prioridade === 'BAIXA',
                                    'alta': chamadoAtribuido?.prioridade  === 'ALTA',
                                    'media': chamadoAtribuido?.prioridade  === 'MEDIA',
                                    'null': chamadoAtribuido?.prioridade  === null,
                                     }">

            {{ chamadoAtribuido?.prioridade ? chamadoAtribuido?.prioridade : "Erro" }}
          </small>
        </div>

        <div menu-content>

          <a mat-menu-item [routerLink]="[chamadoAtribuido.id]" [queryParams]="getCurrentQueryParams()">
            <mat-icon>visibility</mat-icon>
            <span>Consolidar</span>
          </a>

          <button mat-menu-item

                  (click)="remove(chamadoAtribuido)">
            <mat-icon>delete</mat-icon>
            <span>Remover</span>
          </button>
        </div>

      </sgmea-container-list>
    </ng-template>
    <mat-paginator class="mt-10 bg-yellow"
                   [length]="totalItems"
                   [pageSize]="itemsPorPagina"
                   [pageSizeOptions]="pageSizeOptions"
                   (page)="onPageChange($event)"
                   aria-label="Select page">
    </mat-paginator>
  } @else {
    <sgmea-no-data/>
  }


</sgmea-list>
