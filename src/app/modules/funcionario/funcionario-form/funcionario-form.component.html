<sgmea-form [formTitle]="'Funcionário'"
            [iconModule]="'fa-solid fa-chalkboard-user'"
            [formController]="getInstance()"
            [descriptionOnForm]="'Cadastre novos funcionários e desfrute de todas as funcionalidades do nosso sistema.'"
            class="max-w-full">

  <form [formGroup]="form">
    <div class="mt-6">
      <div class="flex flex-col sm:flex-row w-full gap-0 sm:gap-5 pb-5">
        <!-- Campo Nome -->
        <div class="form__group w-full">
          <div class="relative">
            <input formControlName="nome"
                   type="text"
                   id="nome"
                   class="peer block"
                   placeholder=" "/>
            <label for="nome"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Nome
            </label>
          </div>
        </div>

        <!-- Campo CPF -->
        <div class="form__group w-full">
          <div class="relative">
            <input formControlName="cpf"
                   type="text"
                   id="cpf"
                   class="peer block"
                   placeholder=" "/>
            <label for="cpf"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              CPF
            </label>
          </div>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row w-full gap-0 sm:gap-5 pb-5">
        <!-- Campo Email -->
        <div class="form__group w-full">
          <div class="relative">
            <input formControlName="email"
                   type="text"
                   id="email"
                   class="peer block"
                   placeholder=" "/>
            <label for="email"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Endereço de e-mail
            </label>
          </div>
        </div>

        <!-- Campo Gestor -->
        <div class="form__group w-full" formGroupName="gestor">
          <div class="relative">
            <input formControlName="id"
                   type="text"
                   id="gestor"
                   [gestorAutocomplete]="autoGestor"
                   (onItensFiltered)="onGestorFiltered($event)"
                   [matAutocomplete]="autoGestor"
                   class="peer block"
                   placeholder=" "/>


            <mat-autocomplete #autoGestor="matAutocomplete">
              <mat-option
                *ngFor="let gestor of gestor?.records"
                [value]="gestor?.nome"
              >
                {{ gestor?.nome }}
              </mat-option>
            </mat-autocomplete>

            <label for="gestor"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Gestor
            </label>
          </div>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row w-full gap-0 sm:gap-5 pb-5">

        <!-- Campo Perfil -->
        <div class="form__group w-full">
          <div class="relative">
            <select formControlName="perfil"
                    id="perfil"
                    class="peer block appearance-none">
              <option value="" disabled selected hidden></option>
              <option value="GESTOR">Gestor</option>
              <option value="FUNCIONARIO">Funcionário</option>
              <option value="TECNICO">Técnico</option>
            </select>
            <label for="perfil"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Perfil
            </label>
          </div>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row w-full gap-0 sm:gap-5 pb-5">
        <!-- Campo Função -->
        <div class="form__group w-full">
          <div class="relative">
            <input formControlName="funcao"
                   type="text"
                   id="funcao"
                   class="peer block"
                   placeholder=" "/>
            <label for="funcao"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Função
            </label>
          </div>
        </div>

        <!-- Campo Departamento -->
        <div class="form__group w-full">
          <div class="relative" formGroupName="departamento">
            <input formControlName="descricao"
                   type="text"
                   id="departamento"
                   [departamentosAutocomplete]="autoDepartamento"
                   (onItensFiltered)="onDepartamentFiltered($event)"
                   [matAutocomplete]="autoDepartamento"
                   class="peer block"
                   placeholder=" "/>


            <mat-autocomplete #autoDepartamento="matAutocomplete">
              <mat-option
                *ngFor="let departamento of departamentos?.records"
                [value]="departamento?.descricao"
              >
                {{ departamento?.descricao }}
              </mat-option>
            </mat-autocomplete>


            <label for="departamento"
                   class="absolute top-2 left-1 z-10 origin-[0] -translate-y-4 scale-95 transform bg-background px-2 text-sm text-muted-foreground duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-95 peer-focus:px-2 peer-focus:text-primary">
              Departamento
            </label>
          </div>
        </div>
      </div>
    </div>
  </form>
</sgmea-form>
